<!-- Navigation bar -->
<div class="navbar-fixed">
	<nav class="black">
		<div class="nav-wrapper">
			<div class="container">
				<a href="#" class="brand-logo red-text">TED<sup>2</sup></a>
				<ul id="nav-mobile" class="right">
					<li><a class="pointer" id="logoutButton">Logout</a></li>
					<li><a class="pointer" id="searchButton">Search</a></li>
				</ul>
			</div>
		</div>
	</nav>
</div>

<div class="container">
	<div class="row" id="searchCard">
		<div class="col s12">
			<div class="card black ted-card">
				<div class="card-content white-text">
					<div class = "row" id="search">
						<span class="card-title">Search</span>
						<form name="search-form">
							<div class="input-field col s12">
								<input placeholder="Speaker" id="speakerName" type="text" class="validate">
								<label for="speakerName">Speaker Name</label>
								<button id="searchBtn" type="submit" class="btn waves-effect red">Submit</button>
							</div>
						</form>
					</div>
				</div>
			</div>
		</div>
	</div>
	<div class="row">
		<div class="col s12">
			<div class="card black ted-card" id="resultsCard">
				<div class="card-content white-text">
					<div id="talksList">
						<span class="card-title">TED Talks</span>
						<ul>
							{{#each talk}}
								<li>
									{{this.main_speaker}}, <a href="{{this.url}}" target="_blank">{{this.name}}</a>, {{this.tags}}
								</li>
							{{/each}}
						</ul>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>

<script>
	$(document).ready(function() {
		var searchOpen = false;
		$("#searchCard").css("display", "none");
		$("#searchButton").click(function() {
			if (!searchOpen) {
				$("#searchCard").css("display", "block");
				searchOpen = true;
			}
				else {
					$("#searchCard").css("display", "none");
					searchOpen = false;
				}
		});
		$("#searchBtn").on("click", function(event) {
			event.preventDefault();
			var searchName = $("#speakerName").val().trim().toLowerCase();
			window.location.href = window.location.origin + "/ted2?name="+searchName;
        });
    });
</script>